(()=>{var e,t={5444:(e,t,s)=>{"use strict";s.d(t,{EF:()=>a,Rh:()=>i});const i="DISCOVER_ESQL_LOCATOR",a="VISUALIZE_APP_LOCATOR"},3666:(e,t,s)=>{"use strict";s.d(t,{d:()=>r});var i=s(4286),a=s(1319);const r=e=>{const t=(0,a.useEuiTheme)();return(0,i.useMemo)((()=>Object.entries(e).reduce(((e,[s,i])=>(e[s]="function"==typeof i?i(t):i,e)),{})),[t,e])}},2787:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DEFAULT_LEGEND_SIZE:()=>h,GLOBAL_STATE_STORAGE_KEY:()=>c,LegendLayout:()=>g,LegendSize:()=>p,LegendSizeToPixels:()=>_,SAVED_OBJECTS_LIMIT_SETTING:()=>a,SAVED_OBJECTS_PER_PAGE_SETTING:()=>r,STATE_STORAGE_KEY:()=>l,SUPPORTED_AGGREGATIONS:()=>m,VISUALIZE_APP_NAME:()=>d,VISUALIZE_EMBEDDABLE_TYPE:()=>n,VISUALIZE_SAVED_OBJECT_TYPE:()=>o,VisualizeConstants:()=>u});var i=s(7195);const a="savedObjects:listingLimit",r="savedObjects:perPage",n="visualization",o="visualization",l="_a",c="_g",d="visualize",u={VISUALIZE_BASE_PATH:"/app/visualize",LANDING_PAGE_PATH:"/",LANDING_PAGE_PATH_WITH_TAB:"/:activeTab",WIZARD_STEP_1_PAGE_PATH:"/new",WIZARD_STEP_2_PAGE_PATH:"/new/configure",CREATE_PATH:"/create",EDIT_PATH:"/edit",EDIT_BY_VALUE_PATH:"/edit_by_value",APP_ID:"visualize"};let p=function(e){return e.AUTO="auto",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.EXTRA_LARGE="xlarge",e}({}),g=function(e){return e.Table="table",e.List="list",e}({});const _={[p.AUTO]:void 0,[p.SMALL]:80,[p.MEDIUM]:130,[p.LARGE]:180,[p.EXTRA_LARGE]:230},h=p.MEDIUM,m=[...Object.values(i.METRIC_TYPES),...Object.values(i.BUCKET_TYPES)]},4858:(e,t,s)=>{"use strict";s.d(t,{$k:()=>c,$z:()=>f,Gb:()=>m,H9:()=>E,JQ:()=>a,Pg:()=>r,RJ:()=>d,Ur:()=>n,Wl:()=>i,Zd:()=>l,_t:()=>u,b$:()=>h,bB:()=>g,e7:()=>v,oS:()=>b,tz:()=>T,vg:()=>p,w6:()=>o,zZ:()=>_});const i={FILTERS:"filters",RANGE:"range",TERMS:"terms",DATE_HISTOGRAM:"date_histogram",MIN:"min",MAX:"max",AVERAGE:"average",SUM:"sum",MEDIAN:"median",STANDARD_DEVIATION:"standard_deviation",UNIQUE_COUNT:"unique_count",PERCENTILE:"percentile",PERCENTILE_RANK:"percentile_rank",COUNT:"count",LAST_VALUE:"last_value"},a={CUMULATIVE_SUM:"cumulative_sum",COUNTER_RATE:"counter_rate",DIFFERENCES:"differences",MOVING_AVERAGE:"moving_average",FORMULA:"formula",STATIC_VALUE:"static_value",NORMALIZE_BY_UNIT:"normalize_by_unit"},r={...i,...a},n={PIE:"pie",DONUT:"donut",TREEMAP:"treemap",MOSAIC:"mosaic",WAFFLE:"waffle"},o={DEFAULT:"default",INSIDE:"inside",HIDE:"hide"},l={HIDDEN:"hidden",PERCENT:"percent",VALUE:"value"},c={DEFAULT:"default",SHOW:"show",HIDE:"hide"},d={DATA:"data",REFERENCELINE:"referenceLine",ANNOTATIONS:"annotations"},u={LINEAR:"LINEAR",CURVE_MONOTONE_X:"CURVE_MONOTONE_X",CURVE_STEP_AFTER:"CURVE_STEP_AFTER"},p={AUTO:"auto",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},g={BAR:"bar",LINE:"line",AREA:"area",BAR_STACKED:"bar_stacked",AREA_STACKED:"area_stacked",BAR_HORIZONTAL:"bar_horizontal",BAR_PERCENTAGE_STACKED:"bar_percentage_stacked",BAR_HORIZONTAL_STACKED:"bar_horizontal_stacked",AREA_PERCENTAGE_STACKED:"area_percentage_stacked",BAR_HORIZONTAL_PERCENTAGE_STACKED:"bar_horizontal_percentage_stacked"},_={NONE:"none",ABOVE:"above",BELOW:"below"},h={Range:"range",Histogram:"histogram"},m={HORIZONTAL_BULLET:"horizontalBullet",VERTICAL_BULLET:"verticalBullet",SEMI_CIRCLE:"semiCircle",ARC:"arc",CIRCLE:"circle"},v={HIDDEN:"hidden",AUTO:"auto",BANDS:"bands"},E={AUTO:"auto",CUSTOM:"custom",NONE:"none"},b={AUTO:"auto",CUSTOM:"custom",NONE:"none"},f={PALETTE:"palette",NONE:"none"},T=["sum","avg","min","max"]},8474:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CategoryDisplayTypes:()=>r.w6,CollapseFunctions:()=>r.tz,FillTypes:()=>r.zZ,GROUP_ID:()=>a,GaugeCentralMajorModes:()=>r.oS,GaugeColorModes:()=>r.$z,GaugeLabelMajorModes:()=>r.H9,GaugeShapes:()=>r.Gb,GaugeTicksPositions:()=>r.e7,LENS_GAUGE_ID:()=>i,LayerTypes:()=>r.RJ,LegendDisplayTypes:()=>r.$k,NumberDisplayTypes:()=>r.Zd,Operations:()=>r.Pg,OperationsWithReferences:()=>r.JQ,OperationsWithSourceField:()=>r.Wl,PartitionChartTypes:()=>r.Ur,RANGE_MODES:()=>r.b$,SeriesTypes:()=>r.bB,XYCurveTypes:()=>r._t,YAxisModes:()=>r.vg,excludeMetaFromColumn:()=>n.kW,getIndexPatternIds:()=>n.ZA,isAnnotationsLayer:()=>n.i5,isCollapseFunction:()=>n.Qs,isFieldValid:()=>n.vg});const i="lnsGauge",a={METRIC:"metric",MIN:"min",MAX:"max",GOAL:"goal"};var r=s(4858),n=s(2998)},2998:(e,t,s)=>{"use strict";s.d(t,{Qs:()=>o,ZA:()=>r,i5:()=>a,kW:()=>l,vg:()=>n});var i=s(4858);const a=e=>"annotations"===e.layerType,r=e=>e.map((({indexPatternId:e})=>e)),n=(e,t,s)=>!(!t&&s.isFieldRequired||!(!t||t.aggregatable&&((e,{supportedDataTypes:t},s)=>{var i;return(null!==(i=t[e])&&void 0!==i?i:t.default).includes(s.type)})(e,s,t))),o=e=>Boolean(e&&i.tz.includes(e)),l=e=>{if((e=>!!e.meta)(e)){const{meta:t,...s}=e;return s}return e}},4835:(e,t,s)=>{"use strict";s.r(t),s.d(t,{range:()=>i.y,visDimension:()=>a.T});var i=s(9914),a=s(6458)},9914:(e,t,s)=>{"use strict";s.d(t,{y:()=>a});var i=s(5008);const a=()=>({name:"range",help:i.i18n.translate("visualizations.function.range.help",{defaultMessage:"Generates range object"}),type:"range",args:{from:{types:["number"],help:i.i18n.translate("visualizations.function.range.from.help",{defaultMessage:"Start of range"}),required:!0},to:{types:["number"],help:i.i18n.translate("visualizations.function.range.to.help",{defaultMessage:"End of range"}),required:!0}},fn:(e,t)=>({type:"range",from:t.from,to:t.to})})},6458:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});var i=s(5008),a=s(6360);const r=()=>({name:"visdimension",help:i.i18n.translate("visualizations.function.visDimension.help",{defaultMessage:"Generates visConfig dimension object"}),type:"vis_dimension",inputTypes:["datatable"],args:{accessor:{types:["string","number"],aliases:["_"],help:i.i18n.translate("visualizations.function.visDimension.accessor.help",{defaultMessage:"Column in your dataset to use (either column index or column name)"})},format:{types:["string"],help:i.i18n.translate("visualizations.function.visDimension.format.help",{defaultMessage:"Format"})},formatParams:{types:["string"],help:i.i18n.translate("visualizations.function.visDimension.formatParams.help",{defaultMessage:"Format params"})}},fn:(e,t)=>{const s=(0,a.ei)(t.accessor,e.columns),i=("number"==typeof s?e.columns[s]:s).meta.params;return{type:"vis_dimension",accessor:s,format:t.format||t.formatParams||!i?{id:t.format||"string",params:JSON.parse(t.formatParams||"{}")}:i}}})},5850:(e,t,s)=>{"use strict";s.d(t,{OD:()=>i.isFieldValid,Qs:()=>i.isCollapseFunction,sR:()=>a.s}),s(8789),s(4835);var i=s(8474),a=s(9707);s(2787)},6360:(e,t,s)=>{"use strict";s.d(t,{$u:()=>g,Gm:()=>c,Ig:()=>u,PO:()=>p,XE:()=>l,Y$:()=>d,ei:()=>o,hk:()=>n});var i=s(5008);const a=(e,t)=>t.length>e?e:void 0,r=(e,t)=>t.find((t=>t.id===e));function n(e,t){return"number"==typeof e?a(e,t):r(e,t)}function o(e,t){const s=n(e,t);if(void 0===s)throw new Error(i.i18n.translate("visualizations.function.findAccessorOrFail.error.accessor",{defaultMessage:"Provided column name or index is invalid: {accessor}",values:{accessor:e}}));return s}const l=(e,t)=>{if(!g(e))return e;const s=e.accessor;return"number"==typeof s?t[s].id:s.id},c=(e,t)=>{e&&"string"==typeof e&&o(e,t)};function d(e){return"string"==typeof e?e:e.accessor}function u(e,t,s){var i,a;return"string"==typeof e?(null===(i=p(e,t))||void 0===i||null===(a=i.meta)||void 0===a?void 0:a.params)||s:e.format||s}const p=(e,t=[])=>{if("string"==typeof e)return t.find((({id:t})=>e===t));const s=e.accessor;return"number"==typeof s?t[s]:t.find((({id:e})=>s.id===e))};function g(e){return"string"!=typeof e&&void 0!==e}},8789:(e,t,s)=>{"use strict";s.r(t),s.d(t,{findAccessor:()=>a.hk,findAccessorOrFail:()=>a.ei,getAccessor:()=>a.Y$,getAccessorByDimension:()=>a.XE,getColumnByAccessor:()=>a.PO,getFormatByAccessor:()=>a.Ig,getStopsWithColorsFromRanges:()=>n,isVisDimension:()=>a.$u,prepareLogTable:()=>i.C,validateAccessor:()=>a.Gm});var i=s(5049),a=s(6360),r=s(2212);const n=(e,t,s=!1)=>e.reduce(((e,i,a,n)=>((a&&i.from!==n[a-1].to||0===a)&&(e.color.push("rgba(0, 0, 0, 0)"),e.stop.push(i.from)),e.color.push(((e,t,s,i=!1)=>{const a=Math.max(t-1,1),n=i?1-e/a:e/a;return(0,r.getHeatmapColors)(n,s)})(a,n.length,t,s)),e.stop.push(i.to),e)),{color:[],stop:[]})},5049:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});const i=(e,t,s)=>"string"==typeof s?s===e.id:"number"==typeof s?s===t:s.id===e.id,a=e=>"string"==typeof e?e:e.accessor,r=(e,t,s)=>{for(const n of s){var r;if(null!==(r=n[0])&&void 0!==r&&r.find((s=>i(e,t,a(s)))))return n[1]}},n=(e,t,s)=>{for(const n of s){var r;if(null!==(r=n[0])&&void 0!==r&&r.find((s=>i(e,t,a(s)))))return n[2]}},o=(e,t,s=!1)=>{const i=(e=>3===e[0].length)(t);return{...e,columns:e.columns.map(((e,s)=>({...e,meta:{...e.meta,dimensionName:r(e,s,t),...i?{dimensionType:n(e,s,t)}:{}}}))).filter((e=>!s||e.meta.dimensionName))}}},9707:(e,t,s)=>{"use strict";function i(e){const t=e.type.name,s=["derivative","moving_avg","serial_diff","cumulative_sum","sum_bucket","avg_bucket","min_bucket","max_bucket"].includes(t)?e.params.customMetric||e.aggConfigs.getRequestAggById(e.params.metricAgg):e,i=e.makeLabel&&e.makeLabel();return{accessor:0,format:s.toSerializedFieldFormat(),params:{},label:i,aggType:t,aggId:e.id,aggParams:e.params}}s.d(t,{s:()=>i})},7123:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});const i="ACTION_EDIT_IN_LENS"},9360:(e,t,s)=>{"use strict";s.d(t,{P:()=>o});var i=s(4839),a=s(4627),r=s(7546),n=s(5008);n.i18n.translate("uiActions.triggers.rowClickTitle",{defaultMessage:"Table row click"}),n.i18n.translate("uiActions.triggers.rowClickkDescription",{defaultMessage:"A click on a table row"}),n.i18n.translate("uiActions.triggers.dashboard.addPanelMenu.title",{defaultMessage:"Add panel menu"}),n.i18n.translate("uiActions.triggers.dashboard.addPanelMenu.description",{defaultMessage:"A new action will appear to the dashboard's add panel menu"});const o=(n.i18n.translate("uiActions.triggers.dashboard.alertRule.title",{defaultMessage:"Create alert rule"}),n.i18n.translate("uiActions.triggers.dashboard.alertRule.description",{defaultMessage:"Create an alert rule from this dashboard panel"}),{applyFilter:a.APPLY_FILTER_TRIGGER,brush:r.SELECT_RANGE_TRIGGER,filter:r.VALUE_CLICK_TRIGGER,multiFilter:r.MULTI_VALUE_CLICK_TRIGGER,tableRowContextMenuClick:i.ROW_CLICK_TRIGGER,alertRule:"alertRule"})},4673:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});const i=e=>Boolean(e&&"visualization"===(null==e?void 0:e.type)&&"function"==typeof e.getVis)},1950:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ACTION_CONVERT_AGG_BASED_TO_LENS:()=>u.wj,ACTION_CONVERT_DASHBOARD_PANEL_TO_LENS:()=>u.cR,ACTION_CONVERT_TO_LENS:()=>u.Kj,AGG_BASED_VISUALIZATION_TRIGGER:()=>u.cU,DASHBOARD_VISUALIZATION_PANEL_TRIGGER:()=>u.UU,DEFAULT_LEGEND_SIZE:()=>R.DEFAULT_LEGEND_SIZE,LegendSize:()=>R.LegendSize,LegendSizeToPixels:()=>R.LegendSizeToPixels,SAVED_OBJECTS_LIMIT_SETTING:()=>R.SAVED_OBJECTS_LIMIT_SETTING,SAVED_OBJECTS_PER_PAGE_SETTING:()=>R.SAVED_OBJECTS_PER_PAGE_SETTING,TypesService:()=>TypesService,VISUALIZE_EDITOR_TRIGGER:()=>u.M$,VISUALIZE_EMBEDDABLE_TYPE:()=>R.VISUALIZE_EMBEDDABLE_TYPE,VIS_EVENT_TO_TRIGGER:()=>N.P,VisGroups:()=>S.N,VisualizationContainer:()=>Z,XYCurveTypes:()=>$._t,apiHasVisualizeConfig:()=>w.d,getConvertToLensModule:()=>X,getDataViewByIndexPatternId:()=>W,getFullPath:()=>q.d,getVisSchemas:()=>K.p,plugin:()=>J,prepareLogTable:()=>Y.C,urlFor:()=>q.w,visContainerClassName:()=>B.tV,visContainerStyle:()=>B.RC});var i=s(8915),a=s(5008),r=s(190);const n=__kbnSharedDeps__.History;var o=s(4390),l=s(1215),c=s(1359),d=s(4081),u=s(1766);const p="default";var g=s(8501),_=s(5444);class VisualizeLocatorDefinition{constructor(){(0,i.default)(this,"id",_.EF)}async getLocation(e){const{getLocation:t}=await s.e(468).then(s.bind(s,5468));return t(e)}}const h=()=>({name:"xydimension",help:a.i18n.translate("visualizations.function.xydimension.help",{defaultMessage:"Generates xy dimension object"}),type:"xy_dimension",args:{visDimension:{types:["vis_dimension"],help:a.i18n.translate("visualizations.function.xyDimension.visDimension.help",{defaultMessage:"Dimension object config"}),required:!0},label:{types:["string"],help:a.i18n.translate("visualizations.function.xyDimension.label.help",{defaultMessage:"Label"})},aggType:{types:["string"],help:a.i18n.translate("visualizations.function.xyDimension.aggType.help",{defaultMessage:"Aggregation type"})},params:{types:["string"],default:'"{}"',help:a.i18n.translate("visualizations.function.xyDimension.params.help",{defaultMessage:"Params"})}},fn:(e,t)=>({type:"xy_dimension",label:t.label,aggType:t.aggType,params:JSON.parse(t.params),accessor:t.visDimension.accessor,format:t.visDimension.format})});var m=s(6458),v=s(9914);let E=[];const b=[],f={get:()=>[...E],add:e=>{if(E.find((t=>t.name===e.name)))throw new Error(`${e.name} already registered`);b.some((t=>t===e.name))||E.push(e)},remove:e=>{E.find((t=>t.name===e))?E=E.filter((t=>t.name!==e)):b.push(e)}};var T=s(770),A=s.n(T),S=s(0),y=s(4627);let O,D;O=y.AggGroupNames.Buckets,D=y.AggGroupNames.Metrics;class Schemas{constructor(e){(0,i.default)(this,"all",[]),(0,i.default)(this,O,[]),(0,i.default)(this,D,[]),A()(e||[]).chain().map((e=>{if(!e.name)throw new Error("all schema must have a unique name");return"split"===e.name&&(e.params=[{name:"row",default:!0}]),(0,T.defaults)(e,{min:0,max:1/0,group:y.AggGroupNames.Buckets,title:e.name,aggFilter:"*",params:[]}),e})).tap((e=>{this.all=e})).groupBy("group").forOwn(((e,t)=>{this[t]=e})).commit()}}const I={showTimePicker:!0,showFilterBar:!0,showIndexSelection:!0,showQueryInput:!0,hierarchicalData:!1};class BaseVisType{constructor(e){var t,s,a,r,n,o,l,c,d,u,p,g,_,h,m;if((0,i.default)(this,"name",void 0),(0,i.default)(this,"title",void 0),(0,i.default)(this,"order",void 0),(0,i.default)(this,"description",void 0),(0,i.default)(this,"note",void 0),(0,i.default)(this,"getSupportedTriggers",void 0),(0,i.default)(this,"navigateToLens",void 0),(0,i.default)(this,"getExpressionVariables",void 0),(0,i.default)(this,"icon",void 0),(0,i.default)(this,"image",void 0),(0,i.default)(this,"stage",void 0),(0,i.default)(this,"isDeprecated",void 0),(0,i.default)(this,"group",void 0),(0,i.default)(this,"titleInWizard",void 0),(0,i.default)(this,"options",void 0),(0,i.default)(this,"visConfig",void 0),(0,i.default)(this,"editorConfig",void 0),(0,i.default)(this,"disableCreate",void 0),(0,i.default)(this,"disableEdit",void 0),(0,i.default)(this,"requiresSearch",void 0),(0,i.default)(this,"hasPartialRows",void 0),(0,i.default)(this,"hierarchicalData",void 0),(0,i.default)(this,"setup",void 0),(0,i.default)(this,"getUsedIndexPattern",void 0),(0,i.default)(this,"inspectorAdapters",void 0),(0,i.default)(this,"fetchDatatable",void 0),(0,i.default)(this,"toExpressionAst",void 0),(0,i.default)(this,"getInfoMessage",void 0),(0,i.default)(this,"updateVisTypeOnParamsChange",void 0),(0,i.default)(this,"schemas",void 0),!e.icon&&!e.image)throw new Error("vis_type must define its icon or image");this.name=e.name,this.description=null!==(t=e.description)&&void 0!==t?t:"",this.note=null!==(s=e.note)&&void 0!==s?s:"",this.getSupportedTriggers=e.getSupportedTriggers,this.navigateToLens=e.navigateToLens,this.getExpressionVariables=e.getExpressionVariables,this.title=e.title,this.icon=e.icon,this.image=e.image,this.order=null!==(a=e.order)&&void 0!==a?a:0,this.visConfig=(0,T.defaultsDeep)({},e.visConfig,{defaults:{}}),this.editorConfig=(0,T.defaultsDeep)({},e.editorConfig,{collections:{}}),this.options=(0,T.defaultsDeep)({},e.options,I),this.stage=null!==(r=e.stage)&&void 0!==r?r:"production",this.isDeprecated=null!==(n=e.isDeprecated)&&void 0!==n&&n,this.group=null!==(o=e.group)&&void 0!==o?o:S.N.AGGBASED,this.titleInWizard=null!==(l=e.titleInWizard)&&void 0!==l?l:"",this.disableCreate=null!==(c=e.disableCreate)&&void 0!==c&&c,this.disableEdit=null!==(d=e.disableEdit)&&void 0!==d&&d,this.requiresSearch=null!==(u=e.requiresSearch)&&void 0!==u&&u,this.setup=e.setup,this.hasPartialRows=null!==(p=e.hasPartialRows)&&void 0!==p&&p,this.hierarchicalData=null!==(g=e.hierarchicalData)&&void 0!==g&&g,this.getUsedIndexPattern=e.getUsedIndexPattern,this.inspectorAdapters=e.inspectorAdapters,this.fetchDatatable=null!==(_=e.fetchDatatable)&&void 0!==_&&_,this.toExpressionAst=e.toExpressionAst,this.getInfoMessage=e.getInfoMessage,this.updateVisTypeOnParamsChange=e.updateVisTypeOnParamsChange,this.schemas=new Schemas(null!==(h=null===(m=this.editorConfig)||void 0===m?void 0:m.schemas)&&void 0!==h?h:[])}}class TypesService{constructor(){(0,i.default)(this,"types",{})}registerVisualization(e){if(this.types[e.name])throw new Error("type already exists!");this.types[e.name]=e}setup(){return{createBaseVisualization:e=>{const t=new BaseVisType(e);this.registerVisualization(t)},registerAlias:f.add}}start(){return{get:e=>this.types[e],all:()=>[...Object.values(this.types)],getAliases:f.get,unRegisterAlias:f.remove,getByGroup:e=>Object.values(this.types).filter((t=>t.group===e))}}stop(){}}var P=s(8560),R=s(2787),L=s(7546),C=s(7123);const G={visAppWrapper:(0,d.css)({name:"z5atxi",styles:"display:flex;flex-direction:column;flex-grow:1"}),globalScreenshotMode:(0,d.css)({name:"i7qzc8",styles:"kbn-top-nav,filter-bar,.kbnTopNavMenu__wrapper,::-webkit-scrollbar,.euiNavDrawer{display:none!important;}"}),visEditorScreenshotMode:(0,d.css)({name:"1ih7hal",styles:".visEditor__content .visEditor--default>:not(.visEditor__visualization__wrapper){display:none!important;}.tvbEditorVisualization{position:static!important;}.visualize .tvbVisTimeSeries__legendToggle{display:none;}.tvbEditor--hideForReporting{display:none;}.visEditor .visEditor__canvas{padding-left:0;position:fixed;width:100%;height:100%;top:0;left:0;}.visualize .visLegend__toggle,.visualize .kbnAggTable__controls,.visualize .leaflet-container .leaflet-top.leaflet-left,.visualize paginate-controls{display:none;}.vis-editor visualization{min-height:0!important;}"})};class VisualizationsPlugin{constructor(e){(0,i.default)(this,"types",new TypesService),(0,i.default)(this,"appStateUpdater",new r.BehaviorSubject((()=>({})))),(0,i.default)(this,"stopUrlTracking",void 0),(0,i.default)(this,"currentHistory",void 0),(0,i.default)(this,"isLinkedToOriginatingApp",void 0),this.initializerContext=e}setup(e,{expressions:t,embeddable:i,data:g,home:_,urlForwarding:E,share:b,uiActions:f,contentManagement:T}){const{appMounted:A,appUnMounted:S,stop:y,setActiveUrl:O,restorePreviousUrl:D}=(0,l.createKbnUrlTracker)({baseUrl:e.http.basePath.prepend(R.VisualizeConstants.VISUALIZE_BASE_PATH),defaultSubUrl:"#/",storageKey:`lastUrl:${e.http.basePath.get()}:visualize`,navLinkUpdater$:this.appStateUpdater,toastNotifications:e.notifications.toasts,stateParams:[{kbnUrlKey:"_g",stateUpdate$:g.query.state$.pipe((0,r.filter)((({changes:e})=>!!(e.globalFilters||e.time||e.refreshInterval))),(0,r.map)((({state:e})=>({...e,filters:g.query.filterManager.getGlobalFilters()}))))}],getHistory:()=>this.currentHistory,onBeforeNavLinkSaved:t=>{var s;if(null!==(s=this.isLinkedToOriginatingApp)&&void 0!==s&&s.call(this))return e.http.basePath.prepend(R.VisualizeConstants.VISUALIZE_BASE_PATH);const i=["s","title","sort","sortdir"];return(0,c.replaceUrlHashQuery)(t,(e=>(i.forEach((t=>{delete e[t]})),e)))}});this.stopUrlTracking=()=>{y()};const I=(0,l.createStartServicesGetter)(e.getStartServices),L=new Set,C=(()=>{const e=new Map;return{registerDefault:t=>{e.set(p,t)},register:(t,s)=>{t&&e.set(t,s)},get:t=>e.get(t||p)}})();return e.application.register({id:R.VisualizeConstants.APP_ID,title:"Visualize library",order:8e3,euiIconType:"logoKibana",defaultPath:"#/",category:o.DEFAULT_APP_CATEGORIES.kibana,updater$:this.appStateUpdater.asObservable(),mount:async t=>{var i;const[a,r]=await e.getStartServices();this.currentHistory=t.history,this.isLinkedToOriginatingApp=()=>{var e;return Boolean(null===(e=r.embeddable.getStateTransfer().getIncomingEditorState(R.VisualizeConstants.APP_ID))||void 0===e?void 0:e.originatingApp)},r.dataViews.clearCache(),A();const o=t.history.listen((()=>{window.dispatchEvent(new HashChangeEvent("hashchange"))})),c=(0,n.createHashHistory)(),[{createVisEmbeddableFromObject:u},{renderApp:p}]=await Promise.all([s.e(113).then(s.bind(s,6113)),Promise.all([s.e(719),s.e(14),s.e(254)]).then(s.bind(s,1441))]),_={...a,history:c,kbnUrlStateStorage:(0,l.createKbnUrlStateStorage)({history:c,useHash:a.uiSettings.get("state:storeInSessionStorage"),...(0,l.withNotifyOnErrors)(a.notifications.toasts)}),urlForwarding:r.urlForwarding,pluginInitializerContext:this.initializerContext,chrome:a.chrome,data:r.data,core:a,dataViewEditor:r.dataViewEditor,dataViews:r.dataViews,localStorage:new l.Storage(localStorage),navigation:r.navigation,share:r.share,toastNotifications:a.notifications.toasts,visualizeCapabilities:a.application.capabilities.visualize_v2,dashboardCapabilities:a.application.capabilities.dashboard_v2,embeddable:r.embeddable,stateTransferService:r.embeddable.getStateTransfer(),setActiveUrl:O,createVisEmbeddableFromObject:u({start:I}),scopedHistory:t.history,restorePreviousUrl:D,setHeaderActionMenu:t.setHeaderActionMenu,savedObjectsTagging:null===(i=r.savedObjectsTaggingOss)||void 0===i?void 0:i.getTaggingApi(),savedSearch:r.savedSearch,presentationUtil:r.presentationUtil,getKibanaVersion:()=>this.initializerContext.env.packageInfo.version,spaces:r.spaces,visEditorsRegistry:C,listingViewRegistry:L,unifiedSearch:r.unifiedSearch,serverless:r.serverless,noDataPage:r.noDataPage,contentManagement:r.contentManagement};t.element.classList.add(G.visAppWrapper),r.screenshotMode.isScreenshotMode()&&(t.element.classList.add(G.visEditorScreenshotMode),(0,d.injectGlobal)(G.globalScreenshotMode,"",""));const h=p(t,_);return()=>{g.search.session.clear(),t.element.classList.remove(G.visAppWrapper),o(),h(),S()}}}),E.forwardApp("visualize","visualize"),_&&_.featureCatalogue.register({id:"visualize",title:"Visualize library",description:a.i18n.translate("visualizations.visualizeDescription",{defaultMessage:"Create visualizations and aggregate data stores in your Elasticsearch indices."}),icon:"visualizeApp",path:`/app/visualize#${R.VisualizeConstants.LANDING_PAGE_PATH}`,showOnHomePage:!1,category:"data"}),b&&b.url.locators.create(new VisualizeLocatorDefinition),(0,P.Ur)(e.uiSettings),(0,P.Fg)(e.analytics),(0,P.Yl)(e.theme),t.registerFunction(v.y),t.registerFunction(m.T),t.registerFunction(h),f.registerTrigger(u.Bc),f.registerTrigger(u.s5),f.registerTrigger(u.Hi),i.registerReactEmbeddableFactory(R.VISUALIZE_EMBEDDABLE_TYPE,(async()=>{const{plugins:{embeddable:e,embeddableEnhanced:t}}=I(),{getVisualizeEmbeddableFactory:i}=await Promise.all([s.e(719),s.e(511)]).then(s.bind(s,7511));return i({embeddableStart:e,embeddableEnhancedStart:t})})),i.registerAddFromLibraryType({onAdd:async(e,t)=>{e.addNewPanel({panelType:R.VISUALIZE_EMBEDDABLE_TYPE,serializedState:{rawState:{savedObjectId:t.id},references:[]}},!0)},savedObjectType:R.VISUALIZE_EMBEDDABLE_TYPE,savedObjectName:a.i18n.translate("visualizations.visualizeSavedObjectName",{defaultMessage:"Visualization"}),getIconForSavedObject:e=>{var t,s,i;const a=JSON.parse(null!==(t=e.attributes.visState)&&void 0!==t?t:"{}");return null!==(s=null===(i=(0,P.yE)().get(a.type))||void 0===i?void 0:i.icon)&&void 0!==s?s:""}}),i.registerTransforms(R.VISUALIZE_EMBEDDABLE_TYPE,(async()=>{const{getTransforms:e}=await Promise.all([s.e(719),s.e(511)]).then(s.bind(s,7511));return e(i.transformEnhancementsIn,i.transformEnhancementsOut)})),T.registry.register({id:"visualization",version:{latest:1},name:"Visualize library"}),{...this.types.setup(),visEditorsRegistry:C,listingViewRegistry:L}}start(e,{data:t,expressions:i,uiActions:a,embeddable:r,spaces:n,savedObjectsTaggingOss:o,fieldFormats:l,usageCollection:c,savedObjectsManagement:d,contentManagement:u,savedSearch:p,dataViews:_,inspector:h}){const m=this.types.start();return(0,P.Up)(m),(0,P.mV)(e.i18n),(0,P.p)(e.userProfile),(0,P.yi)(r),(0,P.Vx)(e.application),(0,P.zp)(e.application.capabilities),(0,P.P4)(e.http),(0,P.s5)(e.docLinks),(0,P.Tg)(t.search),(0,P.wO)(i),(0,P.EZ)(a),(0,P.Mz)(t.query.timefilter.timefilter),(0,P.jv)(t.search.aggs),(0,P.AK)(e.overlays),(0,P.kw)(e.executionContext),(0,P.TV)(e.chrome),(0,P.DU)(l),(0,P.cM)(c),(0,P.tq)(d),(0,P.rA)(u),(0,P.SD)(p),(0,P.VX)(_),(0,P.Ub)(h),(0,P.d_)(e.notifications),n&&(0,P.K8)(n),o&&(0,P.o9)(o),function(e,t){e.addTriggerActionAsync(L.CONTEXT_MENU_TRIGGER,C.H,(async()=>{const{EditInLensAction:e}=await s.e(8).then(s.bind(s,3008));return new e(t.query.timefilter.timefilter)}))}(a,t),{...m,showNewVisModal:g.H}}stop(){this.types.stop(),this.stopUrlTracking&&this.stopUrlTracking()}}var N=s(9360),w=s(4673),U=s(4286),M=s(1319),V=s(5927),k=s.n(V),x=s(6791),z=s(3666),B=s(2890);const j=(0,U.lazy)((()=>s.e(9).then(s.bind(s,4009)))),F=(0,U.lazy)((()=>s.e(818).then(s.bind(s,2818)))),H={base:({euiTheme:e})=>(0,x.css)({display:"flex",width:"100%",height:"100%",overflow:"auto",position:"relative",padding:e.size.s,flex:"1 1 100%",flexDirection:"column"},"",""),inEmbPanel:e=>(0,x.css)(".embPanel &{",(0,M.euiScrollBarStyles)(e),";}","")},Z=({"data-test-subj":e="",className:t,children:s,handlers:i,showNoResult:a=!1,error:r,renderComplete:n})=>{const o=(0,z.d)(H),l=k()("visualization",t),c=(0,x.jsx)("div",{className:"visChart__spinner",css:B.RC},(0,x.jsx)(M.EuiLoadingChart,{size:"l"}));return(0,x.jsx)("div",{"data-test-subj":e,className:l,css:[o.base,o.inEmbPanel,"",""]},(0,x.jsx)(U.Suspense,{fallback:c},r?(0,x.jsx)(F,{onInit:()=>i.done(),error:r}):a?(0,x.jsx)(j,{onInit:()=>n?n():i.done()}):s))};var K=s(1543),Y=s(5049),$=s(4858),q=s(1879);const W=async(e,t)=>{try{return e?await t.get(e):await t.getDefault()}catch(e){return null}};function J(e){return new VisualizationsPlugin(e)}const X=async()=>await s.e(785).then(s.bind(s,9785))},8560:(e,t,s)=>{"use strict";s.d(t,{AK:()=>B,DU:()=>T,Di:()=>A,EO:()=>f,EZ:()=>V,Fg:()=>o,Fu:()=>_,K8:()=>Y,KI:()=>L,Mz:()=>C,NF:()=>ae,O4:()=>d,P4:()=>b,P5:()=>n,PA:()=>E,Qw:()=>z,SD:()=>ie,TK:()=>G,TO:()=>l,TV:()=>F,Tg:()=>N,Ub:()=>oe,Up:()=>I,Ur:()=>r,VM:()=>m,VX:()=>re,Vx:()=>S,X7:()=>k,Yl:()=>u,aM:()=>M,aV:()=>w,cM:()=>J,ch:()=>y,d_:()=>g,eN:()=>se,er:()=>W,g9:()=>P,gt:()=>ne,ih:()=>H,jv:()=>x,kw:()=>Z,mV:()=>c,o9:()=>q,oZ:()=>K,ol:()=>$,p:()=>v,pZ:()=>ee,qG:()=>a,rA:()=>te,s5:()=>R,tq:()=>Q,wO:()=>U,yE:()=>D,yi:()=>O,zp:()=>h});var i=s(1215);const[a,r]=(0,i.createGetterSetter)("UISettings"),[n,o]=(0,i.createGetterSetter)("Analytics"),[l,c]=(0,i.createGetterSetter)("I18n"),[d,u]=(0,i.createGetterSetter)("Theme"),[p,g]=(0,i.createGetterSetter)("Notifications"),[_,h]=(0,i.createGetterSetter)("Capabilities"),[m,v]=(0,i.createGetterSetter)("UserProfile"),[E,b]=(0,i.createGetterSetter)("Http"),[f,T]=(0,i.createGetterSetter)("Field Formats"),[A,S]=(0,i.createGetterSetter)("Application"),[y,O]=(0,i.createGetterSetter)("Embeddable"),[D,I]=(0,i.createGetterSetter)("Types"),[P,R]=(0,i.createGetterSetter)("DocLinks"),[L,C]=(0,i.createGetterSetter)("TimeFilter"),[G,N]=(0,i.createGetterSetter)("Search"),[w,U]=(0,i.createGetterSetter)("Expressions"),[M,V]=(0,i.createGetterSetter)("UiActions"),[k,x]=(0,i.createGetterSetter)("AggConfigs"),[z,B]=(0,i.createGetterSetter)("Overlays"),[j,F]=(0,i.createGetterSetter)("Chrome"),[H,Z]=(0,i.createGetterSetter)("ExecutionContext"),[K,Y]=(0,i.createGetterSetter)("Spaces",!1),[$,q]=(0,i.createGetterSetter)("SavedObjectTagging",!1),[W,J]=(0,i.createGetterSetter)("UsageCollection"),[X,Q]=(0,i.createGetterSetter)("SavedObjectsManagement"),[ee,te]=(0,i.createGetterSetter)("SavedObjectsManagement"),[se,ie]=(0,i.createGetterSetter)("SavedSearch"),[ae,re]=(0,i.createGetterSetter)("DataViews"),[ne,oe]=(0,i.createGetterSetter)("Inspector")},1766:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>n,Hi:()=>l,Kj:()=>c,M$:()=>i,UU:()=>o,cR:()=>u,cU:()=>r,s5:()=>a,wj:()=>d});const i="VISUALIZE_EDITOR_TRIGGER",a={id:i,title:"Convert TSVB to Lens",description:"Triggered when user navigates from a TSVB to Lens."},r="AGG_BASED_VISUALIZATION_TRIGGER",n={id:r,title:"Convert legacy agg based visualizations to Lens",description:"Triggered when user navigates from a agg based visualization to Lens."},o="DASHBOARD_VISUALIZATION_PANEL_TRIGGER",l={id:o,title:"Convert legacy visualization panel on dashboard to Lens",description:'Triggered when user use "Edit in Lens" action on dashboard panel'},c="ACTION_CONVERT_TO_LENS",d="ACTION_CONVERT_AGG_BASED_TO_LENS",u="ACTION_CONVERT_DASHBOARD_PANEL_TO_LENS"},1879:(e,t,s)=>{"use strict";function i(e){return`/app/visualize#/edit/${e}`}function a(e){return`#/edit/${encodeURIComponent(e)}`}s.d(t,{d:()=>i,w:()=>a})},2890:(e,t,s)=>{"use strict";s.d(t,{O0:()=>l,RC:()=>c,gi:()=>o,tV:()=>d});var i=s(4081),a=s(6791);const r="\n    display: flex;\n    flex: 1 1 100%;\n    overflow: hidden;\n  ",n="\n    display: flex;\n    flex: 1 1 auto;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n  ",o=(0,a.css)(r,"",""),l=(0,i.css)(r,"",""),c=(0,a.css)(n,"",""),d=(0,i.css)(n,"","")},1543:(e,t,s)=>{"use strict";s.d(t,{p:()=>c});var i=s(7195),a=s(4627),r=s(5850);const{isDateHistogramBucketAggConfig:n}=a.search.aggs,o=[...Object.values(i.METRIC_TYPES),...Object.values(i.BUCKET_TYPES),i.SHARD_DELAY_AGG_NAME],l=(e,t,s)=>{const i=e.type.name;if(a=i,!o.includes(a))throw new Error(`Unsupported agg type: ${i}`);var a;const l=((e,{timeRange:t,timefilter:s})=>{if(n(e)){e.params.timeRange=t;const i=e.params.timeRange&&e.fieldIsTimeField()?s.calculateBounds(e.params.timeRange):void 0;e.buckets.setBounds(i),e.buckets.setInterval(e.params.interval)}return e})(e,s);return{...(0,r.sR)(l),accessor:t}},c=(e,t)=>{let s=0;const i={metric:[]};if(!e.data.aggs)return i;const a=e.data.aggs.getResponseAggs().filter((e=>e.enabled)),r=e.isHierarchical(),n=a.filter((e=>"metrics"===e.type.type));return a.forEach((o=>{let c=!1,d=o.schema;if(!d){if("geo_centroid"!==o.type.name)return void s++;d="geo_centroid"}"split"===d&&(d="split_"+(e.params.row?"row":"column"),c=a.length-n.length>1),i[d]||(i[d]=[]),r&&"metrics"===o.type.type||i[d].push(l(o,s++,t)),!r||"metrics"===o.type.type&&n.length!==a.length||n.forEach((e=>{const a=l(e,s++,t);c||i.metric.push(a)}))})),i}},0:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});let i=function(e){return e.PROMOTED="promoted",e.TOOLS="tools",e.AGGBASED="aggbased",e.LEGACY="legacy",e}({})},8501:(e,t,s)=>{"use strict";s.d(t,{H:()=>d});var i=s(4286),a=s.n(i),r=s(1319),n=s(5804),o=s(8560),l=s(6791);const c=(0,i.lazy)((()=>s.e(138).then(s.bind(s,2138))));function d({editorParams:e=[],onClose:t,originatingApp:s,outsideVisualizeApp:d,showAggsSelection:u,selectedVisType:p}={}){const g=document.createElement("div");let _,h=!1;const m=()=>{var e;h||(null==t||t(),null===(e=_)||void 0===e||e(),h=!0)},v=(0,n.toMountPoint)(a().createElement((function(){return(0,l.jsx)(i.Suspense,{fallback:(0,l.jsx)(r.EuiPortal,null,(0,l.jsx)(r.EuiProgress,{size:"xs",position:"fixed"}))},(0,l.jsx)(c,{isOpen:!0,onClose:m,originatingApp:s,stateTransfer:(0,o.ch)().getStateTransfer(),outsideVisualizeApp:d,editorParams:e,visTypesRegistry:(0,o.yE)(),contentClient:(0,o.pZ)().client,uiSettings:(0,o.qG)(),addBasePath:(0,o.PA)().basePath.prepend,application:(0,o.Di)(),docLinks:(0,o.g9)(),showAggsSelection:u,selectedVisType:p}))})),{analytics:(0,o.P5)(),i18n:(0,o.TO)(),theme:(0,o.O4)(),userProfile:(0,o.VM)()});return _=v(g),()=>m()}},8749:(e,t,s)=>{s.p=window.__kbnPublicPath__.visualizations},2212:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/charts/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},5240:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},4390:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},7195:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},4627:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},7674:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/dataViews/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},7574:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/dataViews/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},7546:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},904:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},409:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},1359:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},1215:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},8370:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/presentationPanel/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},7704:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},6260:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/savedObjectsFinder/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},2927:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},4839:(e,t,s)=>{s.r(t);var i=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},4081:(e,t,s)=>{e.exports=s(2497)(28995)},8915:(e,t,s)=>{e.exports=s(2497)(67493)},9494:e=>{"use strict";e.exports=__kbnSharedDeps__.ChromaJs},5927:e=>{"use strict";e.exports=__kbnSharedDeps__.Classnames},3059:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},6744:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnAnalytics},5964:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEsQuery},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},482:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextRender},5804:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaMount},5995:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnRison},1728:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},1783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},2488:e=>{"use strict";e.exports=__kbnSharedDeps__.MomentTimezone},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},2874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},3530:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQuery},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},6524:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactUse.useAsync},7583:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactUse.useDebounce},7064:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactUse.useLocalStorage},9985:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactUse.useMount},6476:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactUse.useUnmount},190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},5079:e=>{"use strict";e.exports=__kbnSharedDeps__.SaferLodashSet},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},9472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return t[e](r,r.exports,i),r.loaded=!0,r.exports}i.m=t,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,s)=>(i.f[s](e,t),t)),[])),i.u=e=>"visualizations.chunk."+e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},i.l=(t,s,a,r)=>{if(e[t])e[t].push(s);else{var n,o;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==t){n=d;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,i.nc&&n.setAttribute("nonce",i.nc),n.src=t),e[t]=[s];var u=(s,i)=>{n.onerror=n.onload=null,clearTimeout(p);var a=e[t];if(delete e[t],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((e=>e(i))),s)return s(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),o&&document.head.appendChild(n)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var a=s.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=s[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={28:0};i.f.j=(t,s)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var r=new Promise(((s,i)=>a=e[t]=[s,i]));s.push(a[2]=r);var n=i.p+i.u(t),o=new Error;i.l(n,(s=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",o.name="ChunkLoadError",o.type=r,o.request=n,a[1](o)}}),"chunk-"+t,t)}};var t=(t,s)=>{var a,r,[n,o,l]=s,c=0;if(n.some((t=>0!==e[t]))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);l&&l(i)}for(t&&t(s);c<n.length;c++)r=n[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},s=self.visualizations_bundle_jsonpfunction=self.visualizations_bundle_jsonpfunction||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),i(8749),__kbnBundles__.define("plugin/visualizations/public",i,1950),__kbnBundles__.define("plugin/visualizations/common/constants",i,2787),__kbnBundles__.define("plugin/visualizations/common/utils",i,8789),__kbnBundles__.define("plugin/visualizations/common/expression_functions",i,4835),__kbnBundles__.define("plugin/visualizations/common/convert_to_lens",i,8474)})();