/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t={6878:(e,t,r)=>{"use strict";r.d(t,{VQ:()=>n,GI:()=>u,t9:()=>i,uh:()=>d,BX:()=>_,u2:()=>p,GZ:()=>c,w_:()=>l,um:()=>o,n3:()=>s});let n=function(e){return e.OK="ok",e.Warning="warn",e.Error="error",e}({});var a=r(5008);const i=Object.freeze({id:"recovered",name:a.i18n.translate("alertingTypes.builtinActionGroups.recovered",{defaultMessage:"Recovered"})}),s="Error validating circuit breaker",o=["onActionGroupChange","onActiveAlert","onThrottleInterval"];let l=function(e){return e.CHANGE="onActionGroupChange",e.ACTIVE="onActiveAlert",e.THROTTLE="onThrottleInterval",e}({});const u=[1,2,3,4,5,6,7],_=["ok","active","error","pending","unknown","warning"],c=["succeeded","warning","failed"];let d=function(e){return e.Read="read",e.Decrypt="decrypt",e.Execute="execute",e.Unknown="unknown",e.License="license",e.Timeout="timeout",e.Disabled="disabled",e.Validate="validate",e}({}),p=function(e){return e.MAX_EXECUTABLE_ACTIONS="maxExecutableActions",e.MAX_ALERTS="maxAlerts",e.MAX_QUEUED_ACTIONS="maxQueuedActions",e.EXECUTION="ruleExecution",e}({})},69:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});const n={ID:"alerting",MINIMUM_LICENSE_REQUIRED:"basic",getI18nName:e=>e.translate("xpack.alerting.appName",{defaultMessage:"Alerting"})}},2087:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ALERTING_FEATURE_ID:()=>He,ALLOWED_MAX_ALERTS:()=>me,ALL_ALERT_DELETE_SETTINGS_SUB_FEATURE_ID:()=>g,ALL_FLAPPING_SETTINGS_SUB_FEATURE_ID:()=>d,ALL_QUERY_DELAY_SETTINGS_SUB_FEATURE_ID:()=>E,API_PRIVILEGES:()=>T,ARCHIVE_MAINTENANCE_WINDOW_API_PATH:()=>Ce,BASE_ALERTING_API_PATH:()=>fe,BASE_MAINTENANCE_WINDOW_API_PATH:()=>Ie,CREATE_MAINTENANCE_WINDOW_API_PATH:()=>Ge,DEFAULT_FLAPPING_SETTINGS:()=>D,DEFAULT_LOOK_BACK_WINDOW:()=>N,DEFAULT_QUERY_DELAY:()=>v,DEFAULT_QUERY_DELAY_SETTINGS:()=>R,DEFAULT_SERVERLESS_QUERY_DELAY:()=>b,DEFAULT_SERVERLESS_QUERY_DELAY_SETTINGS:()=>L,DEFAULT_STATUS_CHANGE_THRESHOLD:()=>h,DELETE_MAINTENANCE_WINDOW_API_PATH:()=>Fe,DISABLE_FLAPPING_SETTINGS:()=>S,DisabledActionTypeIdsForActionGroup:()=>C,EMPTY_EXECUTION_KPI_RESULT:()=>$,EMPTY_EXECUTION_SUMMARY_RESULT:()=>H,FIND_MAINTENANCE_WINDOWS_API_PATH:()=>$e,GET_MAINTENANCE_WINDOW_API_PATH:()=>We,HealthStatus:()=>n.VQ,INTERNAL_ALERTING_API_FIND_RULES_PATH:()=>ve,INTERNAL_ALERTING_API_GET_ACTIVE_MAINTENANCE_WINDOWS_PATH:()=>De,INTERNAL_ALERTING_API_MAINTENANCE_WINDOW_PATH:()=>be,INTERNAL_ALERTING_BACKFILL_API_PATH:()=>Se,INTERNAL_ALERTING_BACKFILL_FIND_API_PATH:()=>Re,INTERNAL_ALERTING_BACKFILL_SCHEDULE_API_PATH:()=>Le,INTERNAL_ALERTING_GAPS_API_PATH:()=>we,INTERNAL_ALERTING_GAPS_FILL_BY_ID_API_PATH:()=>xe,INTERNAL_ALERTING_GAPS_FIND_API_PATH:()=>ke,INTERNAL_ALERTING_GAPS_GET_RULES_API_PATH:()=>Pe,INTERNAL_ALERTING_GAPS_GET_SUMMARY_BY_RULE_IDS_API_PATH:()=>Oe,INTERNAL_ALERTING_GET_GLOBAL_RULE_EXECUTION_SUMMARY_API_PATH:()=>Me,INTERNAL_ALERTING_SNOOZE_RULE:()=>he,INTERNAL_BASE_ALERTING_API_PATH:()=>Ne,ISO_WEEKDAYS:()=>n.GI,LEGACY_BASE_ALERT_API_PATH:()=>ye,MAINTENANCE_WINDOWS_APP_ID:()=>ie,MAINTENANCE_WINDOW_API_PRIVILEGES:()=>ae,MAINTENANCE_WINDOW_DATE_FORMAT:()=>ue,MAINTENANCE_WINDOW_DEEP_LINK_IDS:()=>le,MAINTENANCE_WINDOW_DEFAULT_PER_PAGE:()=>_e,MAINTENANCE_WINDOW_DEFAULT_TABLE_ACTIVE_PAGE:()=>ce,MAINTENANCE_WINDOW_FEATURE_ID:()=>ne,MAINTENANCE_WINDOW_PATHS:()=>oe,MAINTENANCE_WINDOW_SAVED_OBJECT_TYPE:()=>re,MANAGEMENT_APP_ID:()=>se,MAX_LOOK_BACK_WINDOW:()=>s,MAX_QUERY_DELAY:()=>_,MAX_STATUS_CHANGE_THRESHOLD:()=>l,MIN_LOOK_BACK_WINDOW:()=>i,MIN_QUERY_DELAY:()=>u,MIN_STATUS_CHANGE_THRESHOLD:()=>o,MONITORING_HISTORY_LIMIT:()=>Ye,MaintenanceWindowStatus:()=>te,READ_ALERT_DELETE_SETTINGS_SUB_FEATURE_ID:()=>m,READ_FLAPPING_SETTINGS_SUB_FEATURE_ID:()=>p,READ_QUERY_DELAY_SETTINGS_SUB_FEATURE_ID:()=>A,RULES_SETTINGS_FEATURE_ID:()=>c,RULES_SETTINGS_FLAPPING_SAVED_OBJECT_ID:()=>f,RULES_SETTINGS_QUERY_DELAY_SAVED_OBJECT_ID:()=>I,RULES_SETTINGS_SAVED_OBJECT_TYPE:()=>y,RecoveredActionGroup:()=>n.t9,RuleExecutionStatusErrorReasons:()=>n.uh,RuleExecutionStatusValues:()=>n.BX,RuleExecutionStatusWarningReasons:()=>n.u2,RuleLastRunOutcomeOrderMap:()=>a,RuleLastRunOutcomeValues:()=>n.GZ,RuleNotifyWhen:()=>n.w_,RuleNotifyWhenTypeValues:()=>n.um,UNARCHIVE_MAINTENANCE_WINDOW_API_PATH:()=>Ue,UPDATE_MAINTENANCE_WINDOW_API_PATH:()=>Be,actionErrorLogSortableColumns:()=>F,alertMappings:()=>V,contextToSchemaName:()=>ge,convertDurationToFrequency:()=>W.convertDurationToFrequency,executionLogSortableColumns:()=>B,formatDuration:()=>W.formatDuration,formatRuleTagsAggregationResult:()=>j,gapStatus:()=>P,getBuiltinActionGroups:()=>x,getComponentTemplateFromFieldMap:()=>Ee,getDurationNumberInItsUnit:()=>W.getDurationNumberInItsUnit,getDurationUnitValue:()=>W.getDurationUnitValue,getMaxAlertLimit:()=>Te,getRuleCircuitBreakerErrorMessage:()=>K,getRuleTagsAggregation:()=>Y,getScopedQueryErrorMessage:()=>z,isActionGroupDisabledForActionTypeId:()=>U,isScopedQueryError:()=>J,mappingFromFieldMap:()=>pe,parseDuration:()=>W.parseDuration,parseRuleCircuitBreakerErrorMessage:()=>q,preconfiguredConnectorActionRefPrefix:()=>Z,systemConnectorActionRefPrefix:()=>ee,validateBackfillSchedule:()=>O,validateDurationSchema:()=>W.validateDurationSchema,validateNotifyWhenType:()=>G});var n=r(6878);const a={succeeded:0,warning:10,failed:20},i=2,s=20,o=2,l=20,u=0,_=60,c="rulesSettings",d="allFlappingSettings",p="readFlappingSettings",E="allQueryDelaySettings",A="readQueryDelaySettings",g="allAlertDeleteSettings",m="readAlertDeleteSettings",T={READ_FLAPPING_SETTINGS:"read-flapping-settings",WRITE_FLAPPING_SETTINGS:"write-flapping-settings",READ_QUERY_DELAY_SETTINGS:"read-query-delay-settings",WRITE_QUERY_DELAY_SETTINGS:"write-query-delay-settings",READ_ALERT_DELETE_SETTINGS:"read-alert-delete-settings",WRITE_ALERT_DELETE_SETTINGS:"write-alert-deletion-settings"},y="rules-settings",f="rules-settings",I="query-delay-settings",N=20,h=4,v=0,b=15,D={enabled:!0,lookBackWindow:N,statusChangeThreshold:h},S={...D,enabled:!1},R={delay:v},L={delay:b},w=90,k=24*w*60*60*1e3;r(69);const P={UNFILLED:"unfilled",FILLED:"filled",PARTIALLY_FILLED:"partially_filled"};function O(e,t){try{const r=(new Date).valueOf(),n=Date.parse(e);if(isNaN(n))return"Backfill start must be valid date";if(r-n>k)return`Backfill cannot look back more than ${w} days`;if(r<n)return"Backfill cannot be scheduled for the future";if(t){const n=Date.parse(t);if(isNaN(n))return"Backfill end must be valid date";const a=new Date(e).valueOf();if(new Date(t).valueOf()<=a)return"Backfill end must be greater than backfill start";if(r<n)return"Backfill cannot be scheduled for the future"}}catch(e){return`Error validating backfill schedule - ${e.message}`}}function x(e){return[null!=e?e:n.t9]}const M={[n.t9.id]:[".jira",".resilient",".thehive"]},C=new Map(Object.entries(M));function U(e,t){return C.has(e)&&C.get(e).includes(t)}function G(e){if(!n.um.includes(e))return`string is not a valid RuleNotifyWhenType: ${e}`}var W=r(2744);const B=["timestamp","execution_duration","total_search_duration","es_search_duration","schedule_delay","num_triggered_actions","num_generated_actions","num_active_alerts","num_recovered_alerts","num_new_alerts"],F=["@timestamp","event.start","event.end","event.duration","event.action"],$={success:0,unknown:0,failure:0,warning:0,activeAlerts:0,newAlerts:0,recoveredAlerts:0,erroredActions:0,triggeredActions:0},H={executions:{total:0,success:0},latestExecutionSummary:{success:0,failure:0,warning:0}},Y=e=>{const{maxTags:t=50,after:r}=e||{};return{tags:{composite:{...r?{after:r}:{},size:t,sources:[{tags:{terms:{field:"alert.attributes.tags",order:"asc"}}}]}}}},j=e=>e?{ruleTags:(e.tags.buckets||[]).map((e=>e.key.tags))}:{ruleTags:[]},V={dynamic:!1,properties:{artifacts:{properties:{investigation_guide:{properties:{blob:{type:"text"}}}}},enabled:{type:"boolean"},name:{type:"text",fields:{keyword:{type:"keyword",normalizer:"lowercase"}}},tags:{type:"keyword"},alertTypeId:{type:"keyword"},schedule:{properties:{interval:{type:"keyword"}}},consumer:{type:"keyword"},legacyId:{type:"keyword"},actions:{dynamic:!1,type:"nested",properties:{group:{type:"keyword"},actionRef:{type:"keyword"},actionTypeId:{type:"keyword"}}},params:{type:"flattened",ignore_above:4096},mapped_params:{properties:{risk_score:{type:"float"},severity:{type:"keyword"}}},scheduledTaskId:{type:"keyword"},createdBy:{type:"keyword"},updatedBy:{type:"keyword"},createdAt:{type:"date"},updatedAt:{type:"date"},throttle:{type:"keyword"},notifyWhen:{type:"keyword"},muteAll:{type:"boolean"},mutedInstanceIds:{type:"keyword"},monitoring:{properties:{run:{properties:{calculated_metrics:{properties:{p50:{type:"long"},p95:{type:"long"},p99:{type:"long"},success_ratio:{type:"float"}}},last_run:{properties:{timestamp:{type:"date"},metrics:{properties:{duration:{type:"long"},total_search_duration_ms:{type:"long"},total_indexing_duration_ms:{type:"long"},total_alerts_detected:{type:"float"},total_alerts_created:{type:"float"},gap_duration_s:{type:"float"}}}}}}}}},revision:{type:"long"},snoozeSchedule:{type:"nested",properties:{id:{type:"keyword"},duration:{type:"long"},skipRecurrences:{type:"date",format:"strict_date_time"}}},executionStatus:{properties:{numberOfTriggeredActions:{type:"long"},status:{type:"keyword"},lastExecutionDate:{type:"date"},lastDuration:{type:"long"},error:{properties:{reason:{type:"keyword"},message:{type:"keyword"}}},warning:{properties:{reason:{type:"keyword"},message:{type:"keyword"}}}}},lastRun:{properties:{outcome:{type:"keyword"},outcomeOrder:{type:"float"},alertsCount:{properties:{active:{type:"float"},new:{type:"float"},recovered:{type:"float"},ignored:{type:"float"}}}}},running:{type:"boolean"}}};var Q=r(5008);const K=({name:e="",interval:t,intervalAvailable:r,action:n,rules:a=1})=>{let i;switch(n){case"update":i=(e=>Q.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.updateSummary",{defaultMessage:"Rule ''{name}'' cannot be updated. The maximum number of runs per minute would be exceeded.",values:{name:e}}))(e);break;case"create":i=(e=>Q.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.createSummary",{defaultMessage:"Rule ''{name}'' cannot be created. The maximum number of runs per minute would be exceeded.",values:{name:e}}))(e);break;case"enable":i=(e=>Q.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.enableSummary",{defaultMessage:"Rule ''{name}'' cannot be enabled. The maximum number of runs per minute would be exceeded.",values:{name:e}}))(e);break;case"bulkEdit":i=Q.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.bulkEditSummary",{defaultMessage:"Rules cannot be bulk edited. The maximum number of runs per minute would be exceeded."});break;case"bulkEnable":i=Q.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.bulkEnableSummary",{defaultMessage:"Rules cannot be bulk enabled. The maximum number of runs per minute would be exceeded."})}return`Error validating circuit breaker - ${i} - ${(({interval:e,intervalAvailable:t,rules:r})=>1===r?Q.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.ruleDetail",{defaultMessage:"The rule has {interval, plural, one {{interval} run} other {{interval} runs}} per minute; there {intervalAvailable, plural, one {is only {intervalAvailable} run} other {are only {intervalAvailable} runs}} per minute available. Before you can modify this rule, you must increase its check interval so that it runs less frequently. Alternatively, disable other rules or change their check intervals.",values:{interval:e,intervalAvailable:t}}):Q.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.multipleRuleDetail",{defaultMessage:"The rules have {interval, plural, one {{interval} run} other {{interval} runs}} per minute; there {intervalAvailable, plural, one {is only {intervalAvailable} run} other {are only {intervalAvailable} runs}} per minute available. Before you can modify these rules, you must disable other rules or change their check intervals so they run less frequently.",values:{interval:e,intervalAvailable:t}}))({interval:t,intervalAvailable:r,rules:a})}`},q=e=>{if(!e.includes(n.n3))return{summary:e};const t=e.split(" - ");return{summary:t[1],details:t[2]}},X="invalid scoped query",z=e=>`${X} - ${e}`,J=e=>e.includes(X),Z="preconfigured:",ee="system_action:";let te=function(e){return e.Running="running",e.Upcoming="upcoming",e.Finished="finished",e.Archived="archived",e.Disabled="disabled",e}({});const re="maintenance-window",ne="maintenanceWindow",ae={READ_MAINTENANCE_WINDOW:"read-maintenance-window",WRITE_MAINTENANCE_WINDOW:"write-maintenance-window"},ie="maintenanceWindows",se="management",oe={alerting:{maintenanceWindows:`/${ie}`,maintenanceWindowsCreate:"/create",maintenanceWindowsEdit:"/edit/:maintenanceWindowId"}},le={maintenanceWindows:ie,maintenanceWindowsCreate:"create",maintenanceWindowsEdit:"edit"},ue="MM/DD/YY hh:mm A",_e=10,ce=1,de=__kbnSharedDeps__.SaferLodashSet;function pe(e,t="strict"){const r={dynamic:t,properties:{}};return Object.keys(e).map((t=>({name:t,...e[t]}))).forEach((e=>{const{name:t,required:n,array:a,multi_fields:i,...s}=e,o=i?{...s,fields:i.reduce(((e,t)=>(e[t.name]={type:t.type},e)),{})}:s;(0,de.set)(r.properties,e.name.split(".").join(".properties."),o),"@timestamp"===t&&(0,de.set)(r.properties,`${t}.ignore_malformed`,!1)})),r}const Ee=({name:e,fieldMap:t,dynamic:r,includeSettings:n,dynamicTemplates:a})=>({name:e,_meta:{managed:!0},template:{settings:{...n?{number_of_shards:1,"index.mapping.total_fields.limit":1e3*Math.ceil(Object.keys(t).length/1e3)+500}:{}},mappings:{...pe(t,null!=r?r:"strict"),...a?{dynamic_templates:a}:{}}}});var Ae=r(770);const ge=e=>`${e.split(/[.\-]/).map((e=>(0,Ae.capitalize)(e))).join("")}Alert`,me=5e3;function Te(e){return Math.min(e,me)}const ye="/api/alerts",fe="/api/alerting",Ie="/api/maintenance_window",Ne="/internal/alerting",he=`${Ne}/rule/{id}/_snooze`,ve=`${Ne}/rules/_find`,be=`${Ne}/rules/maintenance_window`,De=`${be}/_active`,Se=`${Ne}/rules/backfill`,Re=`${Se}/_find`,Le=`${Se}/_schedule`,we=`${Ne}/rules/gaps`,ke=`${we}/_find`,Pe=`${we}/_get_rules`,Oe=`${we}/_get_gaps_summary_by_rule_ids`,xe=`${we}/_fill_by_id`,Me=`${Ne}/_global_execution_summary`,Ce=`${Ie}/{id}/_archive`,Ue=`${Ie}/{id}/_unarchive`,Ge=Ie,We=`${Ie}/{id}`,Be=`${Ie}/{id}`,Fe=`${Ie}/{id}`,$e=`${Ie}/_find`,He="alerts",Ye=200},2744:(e,t,r)=>{"use strict";r.r(t),r.d(t,{convertDurationToFrequency:()=>_,formatDuration:()=>u,getDurationNumberInItsUnit:()=>c,getDurationUnitValue:()=>d,parseDuration:()=>l,validateDurationSchema:()=>p});const n=/^[1-9][0-9]*s$/,a=/^[1-9][0-9]*m$/,i=/^[1-9][0-9]*h$/,s=/^[1-9][0-9]*d$/,o=6e4;function l(e){const t=parseInt(e,10);if(E(e))return 1e3*t;if(A(e))return 60*t*1e3;if(g(e))return 60*t*60*1e3;if(m(e))return 24*t*60*60*1e3;throw new Error(`Invalid duration "${e}". Durations must be of the form {number}x. Example: 5s, 5m, 5h or 5d"`)}function u(e,t){const r=parseInt(e,10);if(E(e))return`${r} ${t?r>1?"seconds":"second":"sec"}`;if(A(e))return`${r} ${t?r>1?"minutes":"minute":"min"}`;if(g(e))return`${r} ${t?r>1?"hours":"hour":"hr"}`;if(m(e))return`${r} ${r>1?"days":"day"}`;throw new Error(`Invalid duration "${e}". Durations must be of the form {number}x. Example: 5s, 5m, 5h or 5d"`)}function _(e,t=o){const r=l(e);if(0===t)throw new Error("Invalid denomination value: value cannot be 0");return 1/(r/t)}function c(e){return parseInt(e.replace(/[^0-9.]/g,""),10)}function d(e){const t=c(e);return e.replace(t.toString(),"")}function p(e){if(!(e.match(n)||e.match(a)||e.match(i)||e.match(s)))return"string is not a valid duration: "+e}function E(e){return n.test(e)}function A(e){return a.test(e)}function g(e){return i.test(e)}function m(e){return s.test(e)}},6012:(e,t,r)=>{"use strict";r.r(t),r.d(t,{plugin:()=>u});var n=r(8915),a=r(5008);const i=Symbol("*");class AlertNavigationRegistry{constructor(){(0,n.default)(this,"alertNavigations",new Map)}has(e,t){return this.hasTypedHandler(e,t.id)||this.hasDefaultHandler(e)}hasTypedHandler(e,t){var r,n;return null!==(r=null===(n=this.alertNavigations.get(e))||void 0===n?void 0:n.has(t))&&void 0!==r&&r}hasDefaultHandler(e){var t,r;return null!==(t=null===(r=this.alertNavigations.get(e))||void 0===r?void 0:r.has(i))&&void 0!==t&&t}createConsumerNavigation(e){const t=new Map;return this.alertNavigations.set(e,t),t}registerDefault(e,t){var r;if(this.hasDefaultHandler(e))throw new Error(a.i18n.translate("xpack.alerting.alertNavigationRegistry.register.duplicateDefaultError",{defaultMessage:'Default Navigation within "{consumer}" is already registered.',values:{consumer:e}}));(null!==(r=this.alertNavigations.get(e))&&void 0!==r?r:this.createConsumerNavigation(e)).set(i,t)}register(e,t,r){var n;if(this.hasTypedHandler(e,t))throw new Error(a.i18n.translate("xpack.alerting.alertNavigationRegistry.register.duplicateNavigationError",{defaultMessage:'Navigation for Alert type "{alertType}" within "{consumer}" is already registered.',values:{alertType:t,consumer:e}}));(null!==(n=this.alertNavigations.get(e))&&void 0!==n?n:this.createConsumerNavigation(e)).set(t,r)}get(e,t){if(this.has(e,t)){var r;const n=this.alertNavigations.get(e);return null!==(r=n.get(t.id))&&void 0!==r?r:n.get(i)}throw new Error(a.i18n.translate("xpack.alerting.alertNavigationRegistry.get.missingNavigationError",{defaultMessage:'Navigation for Alert type "{alertType}" within "{consumer}" is not registered.',values:{alertType:t.id,consumer:e}}))}}var s=r(5653),o=r(2087),l=r(3721);class AlertingPublicPlugin{constructor(e){(0,n.default)(this,"alertNavigationRegistry",void 0),(0,n.default)(this,"config",void 0),(0,n.default)(this,"maxAlertsPerRun",void 0),this.initContext=e,this.config=this.initContext.config.get(),this.maxAlertsPerRun=(0,o.getMaxAlertLimit)(this.config.rules.run.alerts.max)}setup(e,t){var n;this.alertNavigationRegistry=new AlertNavigationRegistry;const i=this.initContext.env.packageInfo.version;return null!==(n=this.config.maintenanceWindow)&&void 0!==n&&n.enabled&&t.management.sections.section.insightsAndAlerting.registerApp({id:o.MAINTENANCE_WINDOWS_APP_ID,title:a.i18n.translate("xpack.alerting.management.section.title",{defaultMessage:"Maintenance Windows"}),async mount(t){const{renderApp:n}=await r.e(62).then(r.bind(r,5062)),[a,s]=await e.getStartServices();return n({core:a,plugins:s,mountParams:t,kibanaVersion:i})}}),{registerNavigation:async(e,t,r)=>{this.alertNavigationRegistry.register(e,t,r)},registerDefaultNavigation:async(e,t)=>this.alertNavigationRegistry.registerDefault(e,t)}}start(e){return{getNavigation:async t=>{const r=await(0,s.TG)({http:e.http,ruleId:t}),n=await(0,s.BF)({http:e.http,id:r.alertTypeId});if(n){if(this.alertNavigationRegistry.has(r.consumer,n)){const e=this.alertNavigationRegistry.get(r.consumer,n)(r);if(e)return e}return r.viewInAppRelativeUrl?r.viewInAppRelativeUrl:void 0}l.log(`Unable to get navigation for rule type "${r.alertTypeId}" because it is not registered on the server side.`)},getMaxAlertsPerRun:()=>this.maxAlertsPerRun}}}function u(e){return new AlertingPublicPlugin(e)}},5653:(e,t,r)=>{"use strict";r.d(t,{TG:()=>u,BF:()=>l,Uj:()=>o});var n=r(2087);function a(e){const{last_execution_date:t,last_duration:r,...n}=e;return{lastExecutionDate:new Date(t),lastDuration:r,...n}}function i(e){const{run:t}=e,{last_run:r,...n}=t,{timestamp:a,...i}=r;return{run:{last_run:{timestamp:e.run.last_run.timestamp,...i},...n}}}function s(e){const{outcome_msg:t,alerts_count:r,outcome_order:n,...a}=e;return{outcomeMsg:t,alertsCount:r,outcomeOrder:n,...a}}async function o({http:e}){return(await e.get(`${n.BASE_ALERTING_API_PATH}/rule_types`)).map((e=>function(e){const{recovery_action_group:t,action_groups:r,default_action_group_id:n,minimum_license_required:a,action_variables:i,rule_task_timeout:s,is_exportable:o,authorized_consumers:l,enabled_in_license:u,auto_recover_alerts:_,...c}=e;return{recoveryActionGroup:t,actionGroups:r,defaultActionGroupId:n,minimumLicenseRequired:a,actionVariables:i,ruleTaskTimeout:s,isExportable:o,authorizedConsumers:l,enabledInLicense:u,autoRecoverAlerts:_,...c}}(e)))}async function l({http:e,id:t}){return(await o({http:e})).find((e=>e.id===t))}async function u({http:e,ruleId:t}){return function(e){const{rule_type_id:t,created_by:r,updated_by:n,created_at:o,updated_at:l,api_key:u,api_key_owner:_,api_key_created_by_user:c,notify_when:d,mute_all:p,muted_alert_ids:E,scheduled_task_id:A,execution_status:g,actions:m,next_run:T,last_run:y,monitoring:f,view_in_app_relative_url:I,...N}=e;return{alertTypeId:t,createdBy:r,updatedBy:n,createdAt:new Date(o),updatedAt:new Date(l),apiKey:u,apiKeyOwner:_,notifyWhen:d,muteAll:p,mutedInstanceIds:E,executionStatus:a(g),actions:m?m.map((e=>function(e){const{connector_type_id:t,frequency:r,...n}=e;return{actionTypeId:t,...r?{frequency:{summary:r.summary,throttle:r.throttle,notifyWhen:r.notify_when}}:{},...n}}(e))):[],scheduledTaskId:A,...I?{viewInAppRelativeUrl:I}:{},...T?{nextRun:new Date(T)}:{},...f?{monitoring:i(f)}:{},...y?{lastRun:s(y)}:{},...void 0!==c?{apiKeyCreatedByUser:c}:{},...N}}(await e.get(`${n.INTERNAL_BASE_ALERTING_API_PATH}/rule/${t}`))}},6237:(e,t,r)=>{r.p=window.__kbnPublicPath__.alerting},7195:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},5296:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},791:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},2602:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},409:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},1215:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},3721:(e,t,r)=>{e.exports=r(2497)(4971)},8915:(e,t,r)=>{e.exports=r(2497)(67493)},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},1783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},2488:e=>{"use strict";e.exports=__kbnSharedDeps__.MomentTimezone},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},2874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},3530:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQuery},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"alerting.chunk."+e+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},n.l=(t,r,a,i)=>{if(e[t])e[t].push(r);else{var s,o;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var _=l[u];if(_.getAttribute("src")==t){s=_;break}}s||(o=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.src=t),e[t]=[r];var c=(r,n)=>{s.onerror=s.onload=null,clearTimeout(d);var a=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),r)return r(n)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=c.bind(null,s.onerror),s.onload=c.bind(null,s.onload),o&&document.head.appendChild(s)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={285:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,i,[s,o,l]=r,u=0;if(s.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);l&&l(n)}for(t&&t(r);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.alerting_bundle_jsonpfunction=self.alerting_bundle_jsonpfunction||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n(6237),__kbnBundles__.define("plugin/alerting/public",n,6012),__kbnBundles__.define("plugin/alerting/common",n,2087),__kbnBundles__.define("plugin/alerting/common/parse_duration",n,2744)})();