/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t={319:(e,t,a)=>{"use strict";a.d(t,{mw:()=>r,uR:()=>s,TH:()=>i,wP:()=>o,os:()=>c,OQ:()=>b,Bq:()=>l,EW:()=>p,$Z:()=>u,bw:()=>_,jG:()=>h,SY:()=>g,rQ:()=>m,Yk:()=>S});const r={SIMULATE:"simulate",FORCE_SIMULATE:"force_simulate",EXECUTE:"execute",FORCE_EXECUTE:"force_execute",SKIP:"skip"};var n=a(8);const s={OK:n.i18n.translate("xpack.watcher.constants.actionStates.okStateText",{defaultMessage:"OK"}),ACKNOWLEDGED:n.i18n.translate("xpack.watcher.constants.actionStates.acknowledgedStateText",{defaultMessage:"Acknowledged"}),THROTTLED:n.i18n.translate("xpack.watcher.constants.actionStates.throttledStateText",{defaultMessage:"Throttled"}),ERROR:n.i18n.translate("xpack.watcher.constants.actionStates.errorStateText",{defaultMessage:"Error"}),CONFIG_ERROR:n.i18n.translate("xpack.watcher.constants.actionStates.configErrorStateText",{defaultMessage:"Config error"}),UNKNOWN:n.i18n.translate("xpack.watcher.constants.actionStates.unknownStateText",{defaultMessage:"Unknown"})},i={EMAIL:"email",WEBHOOK:"webhook",INDEX:"index",LOGGING:"logging",SLACK:"slack",JIRA:"jira",PAGERDUTY:"pagerduty",UNKNOWN:"unknown/invalid"},o={COUNT:"count",AVERAGE:"avg",SUM:"sum",MIN:"min",MAX:"max"},c={GREATER_THAN:">",GREATER_THAN_OR_EQUALS:">=",BETWEEN:"between",LESS_THAN:"<",LESS_THAN_OR_EQUALS:"<="},l={initialPageSize:10,pageSizeOptions:[10,50,100]},p={ID:"watcher",MINIMUM_LICENSE_REQUIRED:"gold",getI18nName:e=>e.translate("xpack.watcher.appName",{defaultMessage:"Watcher"})},d=6e4,u={WATCH_LIST:d,WATCH_HISTORY:d,WATCH_VISUALIZATION:d},_={API_ROOT:"/api/watcher"},h={ASCENDING:"asc",DESCENDING:"desc"},g={SECOND:"s",MINUTE:"m",HOUR:"h",DAY:"d"},m=(n.i18n.translate("xpack.watcher.constants.watchStateComments.partiallyThrottledStateCommentText",{defaultMessage:"Partially throttled"}),n.i18n.translate("xpack.watcher.constants.watchStateComments.throttledStateCommentText",{defaultMessage:"Throttled"}),n.i18n.translate("xpack.watcher.constants.watchStateComments.partiallyAcknowledgedStateCommentText",{defaultMessage:"Partially acknowledged"}),n.i18n.translate("xpack.watcher.constants.watchStateComments.acknowledgedStateCommentText",{defaultMessage:"Acknowledged"}),n.i18n.translate("xpack.watcher.constants.watchStateComments.executionFailingStateCommentText",{defaultMessage:"Execution failing"}),{INACTIVE:n.i18n.translate("xpack.watcher.constants.watchStates.inactiveStateText",{defaultMessage:"Inactive"}),ACTIVE:n.i18n.translate("xpack.watcher.constants.watchStates.activeStateText",{defaultMessage:"Active"}),ERROR:n.i18n.translate("xpack.watcher.constants.watchStates.errorStateText",{defaultMessage:"Error"}),CONFIG_ERROR:n.i18n.translate("xpack.watcher.constants.watchStates.configErrorStateText",{defaultMessage:"Config error"})}),S={JSON:"json",THRESHOLD:"threshold",MONITORING:"monitoring"},b={ERR_PROP_MISSING:"ERR_PROP_MISSING"}},428:(e,t,a)=>{"use strict";a.r(t),a.d(t,{plugin:()=>c});var r=a(915),n=a(8);const s=__kbnSharedDeps__.Rxjs;var i=a(319);const o=e=>{const{state:t,message:a}=e.check(i.EW.ID,i.EW.MINIMUM_LICENSE_REQUIRED);return{valid:"valid"===t&&e.getFeature(i.EW.ID).isAvailable,message:a}};class WatcherUIPlugin{constructor(){(0,r.default)(this,"capabilities$",new s.Subject)}setup({notifications:e,uiSettings:t,getStartServices:r},{licensing:i,management:c,data:l,home:p,charts:d,licenseManagement:u}){const _=c.sections.section.insightsAndAlerting,h=n.i18n.translate("xpack.watcher.sections.watchList.managementSection.watcherDisplayName",{defaultMessage:"Watcher"}),g=_.registerApp({id:"watcher",title:h,order:5,mount:async({element:n,setBreadcrumbs:c,history:p})=>{const[_]=await r(),{chrome:{docTitle:g},docLinks:m,application:S,executionContext:b,settings:w,...f}=_;g.change(h);const{renderApp:E}=await a.e(323).then(a.bind(a,323)),{TimeBuckets:x}=await a.e(368).then(a.bind(a,368)),k=E({licenseStatus$:i.license$.pipe((0,s.skip)(1),(0,s.map)(o)),element:n,toasts:e.toasts,settings:w,docLinks:m,setBreadcrumbs:c,chartsTheme:d.theme,createTimeBuckets:()=>new x(t,l),history:p,getUrlForApp:S.getUrlForApp,licenseManagementLocator:null==u?void 0:u.locator,executionContext:b,...f});return()=>{g.reset(),k()}}}),m={id:"watcher",title:"Watcher",category:"admin",description:n.i18n.translate("xpack.watcher.watcherDescription",{defaultMessage:"Detect changes in your data by creating, managing, and monitoring alerts."}),icon:"watchesApp",path:"/app/management/insightsAndAlerting/watcher/watches",showOnHomePage:!1};p.featureCatalogue.register(m),(0,s.combineLatest)([i.license$.pipe((0,s.first)(),(0,s.map)(o)),this.capabilities$]).subscribe((([{valid:e},t])=>{var a;e&&!0===(null===(a=t.management.insightsAndAlerting)||void 0===a?void 0:a.watcher)?g.enable():g.disable()}))}start(e){this.capabilities$.next(e.application.capabilities)}stop(){}}const c=()=>new WatcherUIPlugin},707:(e,t,a)=>{a.p=window.__kbnPublicPath__.watcher},627:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},744:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},374:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},409:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},915:(e,t,a)=>{e.exports=a(497)(67493)},59:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},700:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},424:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCodeEditor},494:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnDatemath},8:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},482:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextRender},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},488:e=>{"use strict";e.exports=__kbnSharedDeps__.MomentTimezone},286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},79:e=>{"use strict";e.exports=__kbnSharedDeps__.SaferLodashSet},472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var s=a[e]={exports:{}};return t[e].call(s.exports,s,s.exports,r),s.exports}r.m=t,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[])),r.u=e=>"watcher.chunk."+e+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},r.l=(t,a,n,s)=>{if(e[t])e[t].push(a);else{var i,o;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var p=c[l];if(p.getAttribute("src")==t){i=p;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.src=t),e[t]=[a];var d=(a,r)=>{i.onerror=i.onload=null,clearTimeout(u);var n=e[t];if(delete e[t],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(r))),a)return a(r)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),o&&document.head.appendChild(i)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={541:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise(((a,r)=>n=e[t]=[a,r]));a.push(n[2]=s);var i=r.p+r.u(t),o=new Error;r.l(i,(a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,n[1](o)}}),"chunk-"+t,t)}};var t=(t,a)=>{var n,s,[i,o,c]=a,l=0;if(i.some((t=>0!==e[t]))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);c&&c(r)}for(t&&t(a);l<i.length;l++)s=i[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.watcher_bundle_jsonpfunction=self.watcher_bundle_jsonpfunction||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),r(707),__kbnBundles__.define("plugin/watcher/public",r,428)})();