/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var t={943:(t,e,s)=>{"use strict";s.r(e),s.d(e,{plugin:()=>a});var n=s(915);const o=__kbnSharedDeps__.Rxjs,i=__kbnSharedDeps__.Lodash;class CommentsService{constructor(){(0,n.default)(this,"stop$",new o.ReplaySubject(1))}start(){const t=new o.BehaviorSubject(new Set);return{registerActions:e=>(t.next(new Set([...t.value.values(),e])),()=>{const s=new Set([...t.value.values()].filter((t=>t!==e)));t.next(s)}),getActions$:()=>t.pipe((0,o.map)((t=>(0,i.sortBy)([...t.values()],"order"))),(0,o.takeUntil)(this.stop$))}}stop(){this.stop$.next()}}class PromptContextService{constructor(){(0,n.default)(this,"stop$",new o.ReplaySubject(1))}start(){const t=new o.BehaviorSubject({});return{setPromptContext:e=>(t.next(e),()=>{t.next({})}),getPromptContext$:()=>t.pipe((0,o.takeUntil)(this.stop$))}}stop(){this.stop$.next()}}class AssistantContextValueService{constructor(){(0,n.default)(this,"stop$",new o.ReplaySubject(1))}start(){const t=new o.BehaviorSubject(void 0);return{setAssistantContextValue:e=>(t.next(e),()=>{t.next(void 0)}),getAssistantContextValue$:()=>t.pipe((0,o.takeUntil)(this.stop$))}}stop(){this.stop$.next()}}const r={mount:()=>()=>{}};class AugmentMessageCodeBlocksService{constructor(){(0,n.default)(this,"stop$",new o.ReplaySubject(1))}start(){const t=new o.BehaviorSubject(r);return{registerAugmentMessageCodeBlocks:e=>(t.next(e),()=>{t.next(r)}),getAugmentMessageCodeBlocks$:()=>t.pipe((0,o.takeUntil)(this.stop$))}}stop(){this.stop$.next()}}class SignalIndexService{constructor(){(0,n.default)(this,"stop$",new o.ReplaySubject(1))}start(){const t=new o.BehaviorSubject(void 0);return{setSignalIndex:e=>(t.next(e),()=>{t.next(void 0)}),getSignalIndex$:()=>t.pipe((0,o.takeUntil)(this.stop$))}}stop(){this.stop$.next()}}class ElasticAssistantSharedStatePublicPlugin{constructor(){(0,n.default)(this,"commentService",void 0),(0,n.default)(this,"promptContextService",void 0),(0,n.default)(this,"assistantContextValueService",void 0),(0,n.default)(this,"augmentMessageCodeBlocksService",void 0),(0,n.default)(this,"signalIndexService",void 0),this.commentService=new CommentsService,this.promptContextService=new PromptContextService,this.assistantContextValueService=new AssistantContextValueService,this.augmentMessageCodeBlocksService=new AugmentMessageCodeBlocksService,this.signalIndexService=new SignalIndexService}setup(t){return{}}start(){return{comments:this.commentService.start(),promptContexts:this.promptContextService.start(),assistantContextValue:this.assistantContextValueService.start(),augmentMessageCodeBlocks:this.augmentMessageCodeBlocksService.start(),signalIndex:this.signalIndexService.start()}}stop(){this.commentService.stop(),this.promptContextService.stop(),this.assistantContextValueService.stop(),this.augmentMessageCodeBlocksService.stop(),this.signalIndexService.stop()}}const a=()=>new ElasticAssistantSharedStatePublicPlugin},638:(t,e,s)=>{s.p=window.__kbnPublicPath__.elasticAssistantSharedState},915:(t,e,s)=>{t.exports=s(497)(67493)},497:t=>{"use strict";t.exports=__kbnSharedDeps_npm__}},e={};function s(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,s),i.exports}s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t})(),s(638),__kbnBundles__.define("plugin/elasticAssistantSharedState/public",s,943)})();