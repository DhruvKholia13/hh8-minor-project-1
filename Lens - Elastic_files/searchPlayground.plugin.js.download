/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,r={7294:(e,r,t)=>{"use strict";t.d(r,{O:()=>n});var s=t(8915);const n=new class PlaygroundDocLinks{constructor(){(0,s.default)(this,"chatPlayground",""),(0,s.default)(this,"retrievalOptimize",""),(0,s.default)(this,"retrieval",""),(0,s.default)(this,"context",""),(0,s.default)(this,"hiddenFields",""),(0,s.default)(this,"elasticLLMCosts",""),(0,s.default)(this,"elasticLLM","")}setDocLinks(e){this.chatPlayground=e.playground.chatPlayground,this.retrievalOptimize=e.playground.retrievalOptimize,this.retrieval=e.playground.retrieval,this.context=e.playground.context,this.hiddenFields=e.playground.hiddenFields,this.elasticLLMCosts=e.observability.elasticManagedLlmUsageCost,this.elasticLLM=e.observability.elasticManagedLlm}}},2467:(e,r,t)=>{"use strict";t.d(r,{J2:()=>n.J2,cm:()=>p,ZT:()=>h,nS:()=>d,s_:()=>o,AF:()=>c,MB:()=>u,wS:()=>_,f1:()=>l,Bh:()=>i,Ks:()=>a});var s=t(5008),n=t(7371);let a=function(e){return e.PlaygroundsList="searchPlaygroundPlaygroundsList",e.SearchPlaygroundMutationKeys="search-preview-results",e.SearchPreviewResults="searchPlaygroundSearchPreviewResults",e.SearchQueryTest="searchPlaygroundQueryTest",e.LoadConnectors="searchPlaygroundLoadConnectors",e.LLMsQuery="searchPlaygroundLLMsQuery",e.QueryIndices="searchPlaygroundQueryIndices",e.IndicesFields="searchPlaygroundIndicesFields",e.IndexMappings="searchPlaygroundIndexMappings",e}({}),i=function(e){return e.DeletePlayground="searchPlaygroundDeletePlayground",e.SavePlayground="searchPlaygroundSavePlayground",e.UpdatePlayground="searchPlaygroundUpdatePlayground",e}({});const o="searchPlayground",c=s.i18n.translate("xpack.searchPlayground.plugin.name",{defaultMessage:"Playground"}),u="/app/search_playground",l="searchPlayground:searchModeEnabled",d={from:0,size:10,total:0},p=s.i18n.translate("xpack.searchPlayground.error.contextLimitError",{defaultMessage:"Context exceeds the model limit"});let _=function(e){return e.v1="1",e}({});const h=3},7371:(e,r,t)=>{"use strict";t.d(r,{J2:()=>n,e4:()=>s,lC:()=>a});let s=function(e){return e.user="human",e.assistant="assistant",e.system="system",e}({}),n=function(e){return e.BASE_API="/internal/search_playground",e.POST_API_KEY="/internal/search_playground/api_key",e.POST_CHAT_MESSAGE="/internal/search_playground/chat",e.POST_QUERY_SOURCE_FIELDS="/internal/search_playground/query_source_fields",e.GET_INDICES="/internal/search_playground/indices",e.POST_SEARCH_QUERY="/internal/search_playground/search",e.GET_INDEX_MAPPINGS="/internal/search_playground/mappings",e.POST_QUERY_TEST="/internal/search_playground/query_test",e.PUT_PLAYGROUND_CREATE="/internal/search_playground/playgrounds",e.PUT_PLAYGROUND_UPDATE="/internal/search_playground/playgrounds/{id}",e.GET_PLAYGROUND="/internal/search_playground/playgrounds/{id}",e.GET_PLAYGROUNDS="/internal/search_playground/playgrounds",e.DELETE_PLAYGROUND="/internal/search_playground/playgrounds/{id}",e}({}),a=function(e){return e.openai="openai",e.openai_azure="openai_azure",e.openai_other="openai_other",e.bedrock="bedrock",e.gemini="gemini",e.inference="inference",e}({})},698:(e,r,t)=>{"use strict";t.r(r),t.d(r,{plugin:()=>c});var s=t(8915),n=t(4390),a=t(2467),i=t(7294),o=t(3914);class PlaygroundLocatorDefinition{constructor(){(0,s.default)(this,"getLocation",(async e=>{const r=e["default-index"],t=`${e.search?o.Ee:o.KG}${r?`?default-index=${r}`:""}`;return{app:a.s_,path:t,state:{}}})),(0,s.default)(this,"id","PLAYGROUND_LOCATOR_ID")}}class SearchPlaygroundPlugin{constructor(e){(0,s.default)(this,"config",void 0),(0,s.default)(this,"licenseSubscription",void 0),(0,s.default)(this,"hasRequiredLicense",!1),(0,s.default)(this,"hasExpiredLicense",!1),this.config=e.config.get()}setup(e,r){var s;return null!==(s=this.config.ui)&&void 0!==s&&s.enabled?(e.application.register({id:a.s_,appRoute:a.MB,category:n.DEFAULT_APP_CATEGORIES.enterpriseSearch,euiIconType:"logoElasticsearch",title:a.AF,mount:async({element:s,history:n})=>{var i;const{renderApp:o}=await t.e(969).then(t.bind(t,4969)),[c,u]=await e.getStartServices();return c.chrome.docTitle.change(a.AF),null===(i=u.searchNavigation)||void 0===i||i.handleOnAppMount(),o(c,{...u,history:n,licenseManagement:r.licenseManagement,getLicenseStatus:this.getLicenseStatus.bind(this)},s)},visibleIn:["sideNav","globalSearch"],order:3}),r.share.url.locators.create(new PlaygroundLocatorDefinition),{}):{}}start(e,{licensing:r}){return i.O.setDocLinks(e.docLinks.links),this.licenseSubscription=r.license$.subscribe((e=>{this.hasRequiredLicense=e&&e.isAvailable&&e.isActive&&e.hasAtLeast("enterprise"),this.hasExpiredLicense=e&&"expired"===e.status})),{}}stop(){this.licenseSubscription&&(this.licenseSubscription.unsubscribe(),this.licenseSubscription=void 0)}getLicenseStatus(){return{hasRequiredLicense:this.hasRequiredLicense,hasExpiredLicense:this.hasExpiredLicense}}}function c(e){return new SearchPlaygroundPlugin(e)}},3914:(e,r,t)=>{"use strict";t.d(r,{Dl:()=>s,Ee:()=>o,Gd:()=>l,I:()=>n,KG:()=>a,Lk:()=>d,Mx:()=>c,aJ:()=>p,cV:()=>h,fL:()=>_,o8:()=>i});const s="/",n=`${s}not_found`,a=`${s}chat`,i=`${a}/query`,o=`${s}search`,c=`${o}/query`,u=`${s}p/:playgroundId`,l=`${u}/:pageMode?/:viewMode?`,d=`${u}/chat`,p=`${d}/query`,_=`${u}/search`,h=`${_}/query`},7834:(e,r,t)=>{t.p=window.__kbnPublicPath__.searchPlayground},6728:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("plugin/actions/common");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},4390:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("entry/core/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},5296:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},791:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},2602:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},409:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},2218:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("plugin/stackConnectors/public/common");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},1701:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("plugin/triggersActionsUi/public/common/constants");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},6521:(e,r,t)=>{t.r(r);var s=__kbnBundles__.get("plugin/unifiedDocViewer/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(s))},8915:(e,r,t)=>{e.exports=t(2497)(67493)},5927:e=>{"use strict";e.exports=__kbnSharedDeps__.Classnames},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},6744:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnAnalytics},9424:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCodeEditor},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},911:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnMonaco},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},1060:e=>{"use strict";e.exports=__kbnSharedDeps__.LodashFp},1783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},2874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},3530:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQuery},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},8102:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},3467:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactUse.useLatest},6476:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactUse.useUnmount},9472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},t={};function s(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,s),a.exports}s.m=r,s.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return s.d(r,{a:r}),r},s.d=(e,r)=>{for(var t in r)s.o(r,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((r,t)=>(s.f[t](e,r),r)),[])),s.u=e=>"searchPlayground.chunk."+e+".js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),e={},s.l=(r,t,n,a)=>{if(e[r])e[r].push(t);else{var i,o;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==r){i=l;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=r),e[r]=[t];var d=(t,s)=>{i.onerror=i.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(s))),t)return t(s)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),o&&document.head.appendChild(i)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var r=s.g.document;if(!e&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");if(t.length)for(var n=t.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=t[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={392:0};s.f.j=(r,t)=>{var n=s.o(e,r)?e[r]:void 0;if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(((t,s)=>n=e[r]=[t,s]));t.push(n[2]=a);var i=s.p+s.u(r),o=new Error;s.l(i,(t=>{if(s.o(e,r)&&(0!==(n=e[r])&&(e[r]=void 0),n)){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;o.message="Loading chunk "+r+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,n[1](o)}}),"chunk-"+r,r)}};var r=(r,t)=>{var n,a,[i,o,c]=t,u=0;if(i.some((r=>0!==e[r]))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);c&&c(s)}for(r&&r(t);u<i.length;u++)a=i[u],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0},t=self.searchPlayground_bundle_jsonpfunction=self.searchPlayground_bundle_jsonpfunction||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})(),s(7834),__kbnBundles__.define("plugin/searchPlayground/public",s,698)})();